<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sample Site</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/3.0.0-rc.5/web3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="abi.js"></script>
    <script src="erc20-abi.js"></script>
    <script src="pair-abi.js"></script>
    <script src="router-abi.js"></script>
    <script src="distributor-abi.js"></script>
    <script src="factory-abi.js"></script>
    <script src="abi-xhrms.js"></script>
    <script src="main.js?v4"></script>

    <style>
        fieldset{
            border:1px solid #ccc;
            padding:5px;
            margin:5px;
            font-family: Verdana;
            font-size: 12px;
        }
        fieldset legend{
            font-family: Verdana;
            font-size: 12px;
            font-weight: bold;
            border-bottom:1px solid #ccc;
            background-color: #eee;
        }
    </style>

</head>
<body onload="main()">

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <span class="navbar-brand mb-0 h1">Distributor</span>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active"><a class="nav-link" href="#" id="blockNumber">0</a></li>
            <li class="nav-item active"><a class="nav-link" href="#" id="pairLength">0</a></li>
            <li class="nav-item active"><a class="nav-link" href="#" id="lpBalanceOfUser">0</a></li>
            <li class="nav-item active"><a class="nav-link" href="#" id="lpBalanceOfCtx">0</a></li>
            <li class="nav-item active">
                <input class="nav-link" href type="button"
                       value="run" onclick="run()"/>
            </li>
        </ul>
    </div>
    <span class="navbar-brand mb-0" id="ACCOUNT">Hermes Fee Distributor</span>
</nav>

<div class="container">
    <fieldset>
        <legend>Info</legend>
        <div>router: <span id="router"></span></div>
        <div>treasury: <span id="treasury"></span></div>
        <div>
            xHRMSAddress: <span id="xHRMSAddress"></span>
            [HRMS <span id="xHRMSAddressBalanceOfHRMS"></span>]
        </div>
        <div>HRMS: <span id="HRMS"></span></div>
        <div>wone: <span id="wone"></span></div>
        <div>hrms/wone lp: <span id="factoryAddress"></span></div>
    </fieldset>

    <fieldset>
        <legend>Swap</legend>

        ONE <input type="text" id="addLiquidityONEAmount0" value="10" size="10"/>
        TOKEN: <input type="text" id="addLiquidityONEAmount1" value="10" size="10"/>
        token: <input type="text" id="addLiquidityONEToken" size="50" />
        <input type="button" value="addLiquidityONE" onclick="addLiquidityONE()"/>
        <input type="button" value="router approve" onclick="routerApprove()"/>
        <span id="allowance">allowance 0</span>
        <hr/>
        pair0: <input type="text" id="swapPair0" size="50" value="" onblur="swapAllowance(this.value)"/>
        pair1: <input type="text" id="swapPair1" size="50" value="" onblur="swapAllowance(this.value)"/>
        <br/>
        amount: <input type="text" id="swapAmount" value="1" size="10"/>
        <input type="button" value="Swap" onclick="swap()"/>
        <input type="button" value="Approve" onclick="swapApprove()"/>
        <span id="swapAllowance"></span>
    </fieldset>


    <fieldset>
        <legend>Add pair</legend>
        TOKEN: <input type="text" id="addPair" size="40"/>
        <input type="button" value="Add" onclick="addNewToken()"/>
        <input type="button" value="Set" onclick="setToken()"/>
        <input type="button" value="RM" onclick="pairRemove()"/><br/>
        path 1 (to WONE): <input type="text" id="addPath" size="90"/>

    </fieldset>

    <fieldset>
        <legend>Pair Info</legend>
        <div id="PairInfo"></div>
    </fieldset>

    <fieldset>
        <legend>xHRMS</legend>
        Balance of Contract Reward: <span id="xhrmsBalanceOfContract"></span>,
        Balance of My Tokens: <span id="xhrmsBalanceOfMyTokens"></span>,
        Balance of My Tokens in contract: <span id="xhrmsBalanceOfUser"></span>
        <hr/>
        <input type="number" id="xhrmsBalanceOfMyTokensInput"/>
        <input type="button" value="approve" onclick="xhrmsApprove()" />
        <input type="button" value="stake" onclick="xhrmsStake($('#xhrmsBalanceOfMyTokensInput').val())" />
        <input type="button" value="un-stake" onclick="xhrmsUnStake($('#xhrmsBalanceOfMyTokensInput').val())" />

    </fieldset>

</div>

<div id="tx"></div>

</body>
</html>
